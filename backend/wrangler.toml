name = "recordwell-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Routes
routes = [
  { pattern = "api.recordwell.app/*", zone_name = "recordwell.app" }
]

# KV Namespaces - OPAQUE Authentication
[[kv_namespaces]]
binding = "CREDENTIALS"
id = "c0373f3b95e54fbeaaef36782d426ca3"

[[kv_namespaces]]
binding = "BUNDLES"
id = "7967763b05c9496e89c4223fd765a34d"

[[kv_namespaces]]
binding = "LOGIN_STATES"
id = "671b81ebdc2946e494d0d37c2059f9d6"

[[kv_namespaces]]
binding = "RATE_LIMITS"
id = "5d519620a3c341bc8821fc568ce67beb"

[vars]
ENVIRONMENT = "production"

# Secrets (set with `wrangler secret put <NAME>`):
# - OPAQUE_SERVER_SETUP: stored as recordwell_OPAQUE_SERVER_SETUP in secrets store
